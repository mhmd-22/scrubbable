!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Scrubbable=t()}(this,(function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function n(n){for(var o=1;o<arguments.length;o++){var i=null!=arguments[o]?arguments[o]:{};o%2?t(Object(i),!0).forEach((function(t){e(n,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}))}return n}var o={width:8,location:"left",value:0,min:0,max:1/0,step:1,threshold:14,maxAcc:2,update:function(e){var t=this.elm instanceof Element&&!this.isInput?"textContent":"value";this.elm[t]=e},onScrub:function(){}};function i(e,t,n,o){return e.addEventListener(t,n,o),function(){return e.removeEventListener(t,n,o)}}function r(){return document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement}function c(e,t,n){return Math.min(n,Math.max(e,t))}var u,a,s=function(){},l=new WeakMap,d=0,m=0,f=0;var p=["value","min","max","step"];function v(e){0===e.button&&w(e)&&(u=this,d=f=e.clientX,m=e.clientY,this.requestPointerLock(),b(),document.documentElement.style.cursor="ew-resize",i(document,"mouseup",y,{once:!0}),i(document,"mousemove",h,!1))}function h(e){var t=l.get(u);if(t){var n=r(),o=0|(n?e.movementX:e.clientX-d);if(!n&&t.elm.blur(),d+=o,Math.abs(d-f)>t.threshold){var i=c(o,-t.maxAcc,t.maxAcc)*t.step;if(t.value=c(t.value+i,t.min,t.max),t.update){var a=t.value;t.decimals&&(a=a.toFixed(t.decimals)),t.update(a,i,t)}t.onScrub(t.value,i,t),f=d}n&&(d<0&&(d=window.innerWidth),d>window.innerWidth&&(d=0)),b()}}function b(){a.style.transform="translate(".concat(d-10,"px, ").concat(m-3,"px)")}function w(e){var t=u||e.currentTarget,n=l.get(t),o=t.getBoundingClientRect();return n.zone||"full"==n.width||Math.abs(o[n.location]-e.clientX)<n.width}function g(e){var t="mouseleave"==e.type||w(e);this.style.cursor=t?"ew-resize":""}function y(){document.exitPointerLock(),document.removeEventListener("mousemove",h,!1),document.documentElement.style.cursor="",a.style.display="none",u=void 0}function k(){var e=l.get(this);e&&(e.value=parseInt(e.isInput?this.value:this.textContent,10))}function x(){r()&&(a.style.display="block")}return i(window,"load",(function(){document.body.insertAdjacentHTML("beforeend",'<svg version="1.1" width="24" viewBox="0 0 90 28" xmlns="http://www.w3.org/2000/svg">\n<g stroke="#ffffff" stroke-width="2">\n <path d="m21 .5c-.2-.1-16 13-16 13 0 .3 16 14 16 13 .07-.06.1-5 .1-10h47c.01 5 .05 10 .1 10 .2.1 16-13 16-13 0-.3-16-14-16-13-.07.06-.1 5-.1 10h-47c-.01-5-.05-10-.1-10z"/>\n</g>\n</svg>'),(a=document.body.lastElementChild).style.cssText="position:fixed;top:0;left:0;display:none;"})),i(document,"pointerlockchange",x,!1),i(document,"mozpointerlockchange",x,!1),i(document,"webkitpointerlockchange",x,!1),document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||s,function(e,t){e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock||s;var r=t.zone||e,c=[i(r,"mousedown",v),i(r,"mousemove",g),i(r,"mouseleave",g)],u=["INPUT","TEXTAREA","PROGRESS","METER"].some((function(t){return t==e.tagName}));if(u&&function(e,t,n){p.forEach((function(o){void 0===t[o]&&(t[o]=+e[o]||n[o]),e[o]=t[o]}))}(e,t,o),!u&&!e.isContentEditable||t.noUpdate||c.push(i(e,"input",k)),void 0===(t=n(n(n({},o),t),{},{elm:e,isInput:u})).decimals){var a=t.step.toString();t.decimals=Math.max(0,a.length-(0|a).toString().length-1)}if(u&&"padding"==t.width){var d=getComputedStyle(e),m=parseInt(d["padding-".concat(t.location)],10);isNaN(m)||(t.width=parseInt(m))}return l.set(t.zone||e,t),t.destroy=function(){y(),c.forEach((function(e){return e()})),l.delete(t.zone||e)},t}}));
//# sourceMappingURL=scrubbable.min.js.map
